<style>
    .row div{
        width: 10%;
        height:100px;
    }
</style>

<div class="container">
    <div class="row" data-row="0" style="display:flex;flex-direction:row;"> 
        <div class="col-lg-1 p-0" data-col="0"></div>
        <div class="col-lg-1 bg-black p-0" data-col="1"></div>
        <div class="col-lg-1 p-0" data-col="2"></div>
        <div class="col-lg-1 bg-black p-0" data-col="3"></div>
        <div class="col-lg-1 p-0" data-col="4"></div>
        <div class="col-lg-1 bg-black p-0" data-col="5"></div>
        <div class="col-lg-1 p-0" data-col="6"></div>
        <div class="col-lg-1 bg-black p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="1" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-black  p-0" data-col="0"></div>
        <div class="col-lg-1 p-0" data-col="1"></div>
        <div class="col-lg-1 bg-black p-0" data-col="2"></div>
        <div class="col-lg-1 p-0" data-col="3"></div>
        <div class="col-lg-1 bg-black p-0" data-col="4"></div>
        <div class="col-lg-1 p-0" data-col="5"></div>
        <div class="col-lg-1 bg-black p-0" data-col="6"></div>
        <div class="col-lg-1 p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="2" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 p-0" data-col="0"></div>
        <div class="col-lg-1 bg-black p-0" data-col="1"></div>
        <div class="col-lg-1 p-0" data-col="2"></div>
        <div class="col-lg-1 bg-black p-0" data-col="3"></div>
        <div class="col-lg-1 p-0" data-col="4"></div>
        <div class="col-lg-1 bg-black p-0" data-col="5"></div>
        <div class="col-lg-1 p-0" data-col="6"></div>
        <div class="col-lg-1 bg-black p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="3" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-black  p-0" data-col="0"></div>
        <div class="col-lg-1 p-0" data-col="1"></div>
        <div class="col-lg-1 bg-black p-0" data-col="2"></div>
        <div class="col-lg-1 p-0" data-col="3"></div>
        <div class="col-lg-1 bg-black p-0" data-col="4"></div>
        <div class="col-lg-1 p-0" data-col="5"></div>
        <div class="col-lg-1 bg-black p-0" data-col="6"></div>
        <div class="col-lg-1 p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="4" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 p-0" data-col="0"></div>
        <div class="col-lg-1 bg-black p-0" data-col="1"></div>
        <div class="col-lg-1 p-0" data-col="2"></div>
        <div class="col-lg-1 bg-black p-0" data-col="3"></div>
        <div class="col-lg-1 p-0" data-col="4"></div>
        <div class="col-lg-1 bg-black p-0" data-col="5"></div>
        <div class="col-lg-1 p-0" data-col="6"></div>
        <div class="col-lg-1 bg-black p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="5" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-black  p-0" data-col="0"></div>
        <div class="col-lg-1 p-0" data-col="1"></div>
        <div class="col-lg-1 bg-black p-0" data-col="2"></div>
        <div class="col-lg-1 p-0" data-col="3"></div>
        <div class="col-lg-1 bg-black p-0" data-col="4"></div>
        <div class="col-lg-1 p-0" data-col="5"></div>
        <div class="col-lg-1 bg-black p-0" data-col="6"></div>
        <div class="col-lg-1 p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="6" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 p-0" data-col="0"></div>
        <div class="col-lg-1 bg-black p-0" data-col="1"></div>
        <div class="col-lg-1 p-0" data-col="2"></div>
        <div class="col-lg-1 bg-black p-0" data-col="3"></div>
        <div class="col-lg-1 p-0" data-col="4"></div>
        <div class="col-lg-1 bg-black p-0" data-col="5"></div>
        <div class="col-lg-1 p-0" data-col="6"></div>
        <div class="col-lg-1 bg-black p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="7" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-black  p-0" data-col="0"></div>
        <div class="col-lg-1 p-0" data-col="1"></div>
        <div class="col-lg-1 bg-black p-0" data-col="2"></div>
        <div class="col-lg-1 p-0" data-col="3"></div>
        <div class="col-lg-1 bg-black p-0" data-col="4"></div>
        <div class="col-lg-1 p-0" data-col="5"></div>
        <div class="col-lg-1 bg-black p-0" data-col="6"></div>
        <div class="col-lg-1 p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div id="mouse_follower" style="z-index:1;position:absolute;"></div>
</div>


<script>
draw_grid(game_array)
$(".container").on( "mousemove", function(event) {
    $("#mouse_follower").css("left", event.pageX)
    $("#mouse_follower").css("top", event.pageY-50)
});

var moving_piece = false
$("[data-col]").click(function(e){
    var col = $(this).data("col"), row = $(this).closest(".row").data("row")
    var mouse_follower = $("#mouse_follower")
    if (moving_piece || !is_empty(game_array[row][col])){
        if (!moving_piece){
            mouse_follower.html("<img data-col='"+col+"' data-row='"+row+"' src='"+game_array[row][col].img +"'/>")
            moving_piece = true
            if ( typeof game_array[row][col].where_can_move === 'function'){
                show_where_can_move(game_array[row][col].where_can_move(row, col))
            }
        }else{
            var old_col = mouse_follower.find("img").data("col"), old_row = mouse_follower.find("img").data("row")
            game_array[row][col] = game_array[old_row][old_col]
            game_array[old_row][old_col] = {}
            draw_grid(game_array)
            moving_piece = false
            mouse_follower.html("")
        }
    }
})



    
</script>