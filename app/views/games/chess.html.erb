<style>
    .row div{
        width: 10%;
        height:100px;
    }
</style>

<div class="container">
    <div class="row" data-row="0" style="display:flex;flex-direction:row;"> 
        <div class="col-lg-1 bg-white p-0" data-col="0"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="1"></div>
        <div class="col-lg-1 bg-white p-0" data-col="2"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="3"></div>
        <div class="col-lg-1 bg-white p-0" data-col="4"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="5"></div>
        <div class="col-lg-1 bg-white p-0" data-col="6"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="1" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-dark  p-0" data-col="0"></div>
        <div class="col-lg-1 bg-white p-0" data-col="1"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="2"></div>
        <div class="col-lg-1 bg-white p-0" data-col="3"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="4"></div>
        <div class="col-lg-1 bg-white p-0" data-col="5"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="6"></div>
        <div class="col-lg-1 bg-white p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="2" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-white p-0" data-col="0"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="1"></div>
        <div class="col-lg-1 bg-white p-0" data-col="2"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="3"></div>
        <div class="col-lg-1 bg-white p-0" data-col="4"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="5"></div>
        <div class="col-lg-1 bg-white p-0" data-col="6"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="3" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-dark  p-0" data-col="0"></div>
        <div class="col-lg-1 bg-white p-0" data-col="1"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="2"></div>
        <div class="col-lg-1 bg-white p-0" data-col="3"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="4"></div>
        <div class="col-lg-1 bg-white p-0" data-col="5"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="6"></div>
        <div class="col-lg-1 bg-white p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="4" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-white p-0" data-col="0"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="1"></div>
        <div class="col-lg-1 bg-white p-0" data-col="2"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="3"></div>
        <div class="col-lg-1 bg-white p-0" data-col="4"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="5"></div>
        <div class="col-lg-1 bg-white p-0" data-col="6"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="5" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-dark  p-0" data-col="0"></div>
        <div class="col-lg-1 bg-white p-0" data-col="1"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="2"></div>
        <div class="col-lg-1 bg-white p-0" data-col="3"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="4"></div>
        <div class="col-lg-1 bg-white p-0" data-col="5"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="6"></div>
        <div class="col-lg-1 bg-white p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="6" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-white p-0" data-col="0"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="1"></div>
        <div class="col-lg-1 bg-white p-0" data-col="2"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="3"></div>
        <div class="col-lg-1 bg-white p-0" data-col="4"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="5"></div>
        <div class="col-lg-1 bg-white p-0" data-col="6"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div class="row" data-row="7" style="display:flex;flex-direction:row"> 
        <div class="col-lg-1 bg-dark  p-0" data-col="0"></div>
        <div class="col-lg-1 bg-white p-0" data-col="1"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="2"></div>
        <div class="col-lg-1 bg-white p-0" data-col="3"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="4"></div>
        <div class="col-lg-1 bg-white p-0" data-col="5"></div>
        <div class="col-lg-1 bg-dark p-0" data-col="6"></div>
        <div class="col-lg-1 bg-white p-0" data-col="7"></div>
        <div class="col-lg-4 bg-clearpink"></div>
    </div>
    <div id="mouse_follower" style="z-index:1;position:absolute;"></div>
</div>


<script>
draw_grid(game_array)

function move_piece(){
    $("[data-col]").click(function move_piece(e){
    var col = $(this).data("col"), row = $(this).closest(".row").data("row");
    var mouse_follower = $("#mouse_follower")
    console.log("click")
    $("[data-col]").off()
   
    $(document).on( "mousemove", function(event) {
        mouse_follower.html("<img data-col='"+col+"' data-row='"+row+"' src='"+game_array[row][col].img +"'/>")
        mouse_follower.css("left", event.pageX)
        mouse_follower.css("top", event.pageY)
        
    });
     $("[data-col]").click(function(){
            $(document).off()
            var old_col = mouse_follower.find("img").data("col"), old_row = mouse_follower.find("img").data("row")
            console.log("OLD ROW : " + old_row)
            game_array[row][col] = game_array[old_row][old_col]
            game_array[old_row][old_col] = {}
            draw_grid(game_array)
            mouse_follower.html("")
            mouse_follower.css("left", 0)
            mouse_follower.css("top", 0)
            console.log("deuxieme click")
            $("[data-col]").off()
            move_piece()
        })

})
}
move_piece()

    
</script>